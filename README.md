# Slint for Vexide

This crate exists to allow for the use of Slint-based UIs in vexide. It provides
an implementation of the Slint `Platform` trait that uses the V5 brain to render
the UI.

## Usage

To use this crate, add it to your `Cargo.toml`:

```toml
[dependencies]
slint-vexide = "0.1"
```

Then, in your code, you can use it like so:

```rust
use slint_vexide::initialize_slint_platform;

// Include the modules generated by Slint for your UI files.
// You will need to configure your `build.rs` to do this; check out the
// slint-build crate.
slint::include_modules!();

#[vexide::main]
async fn main() {
    let robot = Robot {
        // ...
    };

    // Since running the Slint UI is a blocking operation, we need to spawn the
    // competition task as a separate task that will run concurrently.
    // The Slint runtime internally polls all spawned futures.
    vexide::task::spawn(robot.compete()).detach();

    // Initialize the Slint platform with the V5 display-backed implementation.
    initialize_slint_platform();
    // Create and run the application. For more information on this, see the
    // Slint documentation.
    MyApplication::new()
        .expect("Failed to create application")
        .run()
        .expect("Failed to run application");
    // Since MyApplication::run() could return if the application is closed
    // programmatically, we need to convince the compiler that the return type
    // is `!` (never).
    vexide::program::exit();
}
```
